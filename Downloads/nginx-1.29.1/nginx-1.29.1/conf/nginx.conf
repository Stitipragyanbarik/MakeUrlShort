# ...existing config...
upstream backend {
    server 127.0.0.1:3000 max_fails=2 fail_timeout=10s;
    server 127.0.0.1:3001 max_fails=2 fail_timeout=10s;
    server 127.0.0.1:3002 max_fails=2 fail_timeout=10s;
    server 127.0.0.1:3003 max_fails=2 fail_timeout=10s;
    server 127.0.0.1:3004 max_fails=2 fail_timeout=10s;
    server 127.0.0.1:3005 max_fails=2 fail_timeout=10s;
    server 127.0.0.1:3006 max_fails=2 fail_timeout=10s;
    server 127.0.0.1:3007 max_fails=2 fail_timeout=10s;
    server 127.0.0.1:3008 max_fails=2 fail_timeout=10s;
    server 127.0.0.1:3009 max_fails=2 fail_timeout=10s;
    server 127.0.0.1:3010 max_fails=2 fail_timeout=10s;
    server 127.0.0.1:3011 max_fails=2 fail_timeout=10s;
    server 127.0.0.1:3012 max_fails=2 fail_timeout=10s;
    server 127.0.0.1:3013 max_fails=2 fail_timeout=10s;
    server 127.0.0.1:3014 max_fails=2 fail_timeout=10s;
    server 127.0.0.1:3015 max_fails=2 fail_timeout=10s;
}
# ...existing config...